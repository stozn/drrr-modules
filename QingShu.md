# [情书模块（QingShu）](QingShu.py)

桌游《情书》的模块，可以在drrr聊天室内进行游戏。[**图文版说明**](https://docs.qq.com/sheet/DVkVCWFFueUVFcXNB?tab=trd5sg)


## 游戏简介

玩家们扮演一群公主的追求者，试图在对手之前通过公主的亲信们把他的情书传到她手中。
在游戏中，你持有一张秘密的手牌。这是目前帮你向公主传情书的人物。
你要确保在最后一天，把情书交到离公主最亲近的人手中，这样，你才能第一个把它送到公主手里，从而获得公主的青睐。 
游戏进行多轮。最终获得足够数量的爱意指示物的玩家获得胜利。



## 游戏流程
					
### 一、游戏设置
将游戏用到的17张卡牌洗匀后，随机除外1张卡牌（不公示）【2人游戏则为3张卡牌】
然后每个玩家抽一张牌作为手牌。然后随机一位玩家作为起始玩家。

### 二、游戏开始
轮到玩家的回合时，依次执行以下行动阶段。
    1. 抽卡阶段：从卡组内抽取1张卡
    2. 出卡阶段：从2张手卡内选择其中1张打出。
    3. 执行阶段：执行打出的卡牌效果，如果无法执行或卡牌无效果则直接跳过本阶段。并轮到下一个玩家。

### 三、游戏结束条件
游戏结束的条件有2个，达成其中1个游戏马上结束。
    1. 淘汰玩家直至剩下最后一名玩家时游戏马上结束，该玩家获得胜利。
    2. 当轮到玩家回合抽卡阶段无卡可抽时，游戏马上结束，开始游戏结算。

### 四、游戏结算
当达成【三 - 2】的游戏结束条件时，开始游戏结算，所有玩家公示自己的最后一张手卡。
该牌MP点数最大的玩家获得游戏胜利。
> （原版游戏中，获胜的玩家可以获得公主的爱心，当获得一定数量后就获得最终胜利，但在drrr版中取消了该设定）



## 指令列表

| 指令          | 说明                            |
| ------------- | ------------------------------- |
| **全局**      | **以下命令可用：**              |
| /指令         | 查看指令列表                    |
| /游戏         | 回到报名阶段重新开始游戏        |
| /p            | 查看所有玩家                    |
| /s            | 查看当前状态                    |
| /卡组         | 查看全卡组卡牌数量              |
| **报名阶段**  | **以下命令可用：**              |
| /go           | 开始游戏                        |
| +1            | 加入游戏                        |
| -1            | 退出游戏                        |
| **游戏阶段**  | **以下命令可用：**              |
| /手牌         | 查看手牌                        |
| /使用  卡牌名 | 打出一张卡，使用该卡技能        |
| /弃牌区       | 查看所有玩家的弃牌              |
| /积分         | 查看积分榜                      |
| /取消         | 放弃使用卡牌技能（防卡死）      |
| **更多指令**  | **请根据bot的提示信息进行游戏** |




## 游戏全卡牌与卡组配置

[**图片版**](https://docs.qq.com/sheet/DVkVCWFFueUVFcXNB?tab=k9725k)

| MP  | 名字   | 能力                           | 备注                                             | 数量 |
| --- | ------ | ------------------------------ | ------------------------------------------------ | ---- |
| 9   | 公主   | 打出或丢弃此卡，玩家被淘汰     | 拼点和交换不算丢弃                               | 1    |
| 8   | 女伯爵 | 持有国王或王子，则必须打出此卡 | 打出无效果，没有国王或王子也可以打出             | 1    |
| 7   | 国王   | 与某人交换手牌                 | 使用自己剩下那张卡去交换                         | 1    |
| 5   | 王子   | 使某人弃牌并重新抽取           | 可以对自己使用。如果牌库为空，抽取开局移除的卡牌 | 2    |
| 4   | 侍女   | 免疫所有技能，直到再次轮到自己 |                                                  | 2    |
| 3   | 男爵   | 与某人拼点，MP小的出局         | 使用自己剩下那张卡去拼点                         | 2    |
| 2   | 祭司   | 查看某人的手牌                 |                                                  | 3    |
| 1   | 守卫   | 猜测某人的手牌，猜对则对方出局 | 不能猜测对方为守卫                               | 5    |
